# æ¨¡å‹åˆ‡æ¢é€»è¾‘è¯´æ˜

## ğŸ¯ å½“å‰è¿è¡Œæ¨¡å¼

- âœ… **å›ºå®šæ¨¡å‹æ¨¡å¼** (`batch_translate_test_4k_accept.py`) - å½“å‰ä½¿ç”¨
- âŒ **è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼** (`batch_translate_with_auto_switch.py`) - æœªä½¿ç”¨

---

## âš™ï¸ æ¨¡å‹é…ç½®ä½ç½®

### ä¸»é…ç½®æ–‡ä»¶ï¼š`/home/changdi/sactor/sactor.toml`

#### 1. å½“å‰ä½¿ç”¨çš„æ¨¡å‹ï¼ˆç¬¬65è¡Œï¼‰

```toml
model = "qwen3-coder-flash"
```

#### 2. å¤‡ç”¨æ¨¡å‹åˆ—è¡¨ï¼ˆç¬¬126-136è¡Œï¼‰

```toml
available_models = [
    "qwen3-coder-flash",      # å½“å‰ä½¿ç”¨
    "qwen3-coder-plus",       # å¤‡ç”¨1ï¼šä»£ç ä¸“ç”¨ï¼Œæ€§èƒ½æ›´å¼º
    "qwen-plus-latest",       # å¤‡ç”¨2ï¼šé€šç”¨å¢å¼ºå‹
    "qwen3-max",              # å¤‡ç”¨3ï¼šæœ€å¼ºé€šç”¨æ¨¡å‹
    "qwen3-max-preview",      # å¤‡ç”¨4ï¼šé¢„è§ˆç‰ˆ
    "qwen-mt-plus",           # å¤‡ç”¨5ï¼šç¿»è¯‘ä¸“ç”¨
    "qwen-flash",             # å¤‡ç”¨6ï¼šå¿«é€Ÿé€šç”¨
    "qwen3-32b",              # å¤‡ç”¨7ï¼šä¸­ç­‰å¤§å°
    "qwen3-14b"               # å¤‡ç”¨8ï¼šè¾ƒå°æ¨¡å‹
]
```

---

## ğŸ”„ è‡ªåŠ¨åˆ‡æ¢é€»è¾‘

### ä»…åœ¨ä½¿ç”¨ `batch_translate_with_auto_switch.py` æ—¶æœ‰æ•ˆ

### è§¦å‘æ¡ä»¶

- æ£€æµ‹åˆ°APIé…é¢é”™è¯¯ï¼ˆ403/429é”™è¯¯ç ï¼‰
- æ£€æµ‹åˆ° "quota" æˆ– "rate limit" ç­‰å…³é”®å­—

### åˆ‡æ¢æµç¨‹

1. åœæ­¢å½“å‰ç¿»è¯‘è¿›ç¨‹
2. ä» `available_models` åˆ—è¡¨ä¸­é€‰æ‹©ä¸‹ä¸€ä¸ªæ¨¡å‹
3. æ›´æ–° `sactor.toml` ä¸­çš„ `model` é…ç½®
4. é‡å¯ç¿»è¯‘è¿›ç¨‹
5. æœ€å¤šåˆ‡æ¢10æ¬¡

### åˆ‡æ¢é¡ºåº

æŒ‰ `available_models` åˆ—è¡¨é¡ºåºå¾ªç¯ï¼š

```
qwen3-coder-flash â†’ qwen3-coder-plus â†’ qwen-plus-latest â†’ qwen3-max â†’ ...
```

---

## ğŸ› ï¸ å¦‚ä½•ä¿®æ”¹å¤‡ç”¨æ¨¡å‹

### æ–¹æ³•1ï¼šç›´æ¥ç¼–è¾‘ sactor.toml

```bash
vim /home/changdi/sactor/sactor.toml
```

ä¿®æ”¹ç¬¬126-136è¡Œçš„ `available_models` æ•°ç»„ï¼š

```toml
available_models = [
    "ä½ çš„é¦–é€‰æ¨¡å‹",
    "å¤‡ç”¨æ¨¡å‹1",
    "å¤‡ç”¨æ¨¡å‹2",
    ...
]
```

### æ–¹æ³•2ï¼šåªä¿®æ”¹å½“å‰ä½¿ç”¨çš„æ¨¡å‹

ä¿®æ”¹ç¬¬65è¡Œï¼š

```toml
model = "ä½ æƒ³ç”¨çš„æ¨¡å‹åç§°"
```

---

## ğŸ“Š ä¸åŒæ¨¡å‹çš„ç‰¹ç‚¹

### ä»£ç ä¸“ç”¨ï¼ˆæ¨èç”¨äºCâ†’Rustç¿»è¯‘ï¼‰

- â­ **qwen3-coder-flash** - å¿«é€Ÿã€ä½æˆæœ¬ã€é€‚åˆå¤§æ‰¹é‡
- â­â­ **qwen3-coder-plus** - æ€§èƒ½å¼ºã€å‡†ç¡®ç‡é«˜ã€æˆæœ¬ä¸­ç­‰

### é€šç”¨å¢å¼ºå‹

- â­â­ **qwen-plus-latest** - å¹³è¡¡æ€§èƒ½å’Œæˆæœ¬
- â­â­â­ **qwen3-max** - æœ€å¼ºæ€§èƒ½ã€æˆæœ¬æœ€é«˜

### å¿«é€Ÿä½æˆæœ¬

- â­ **qwen-flash** - é€šç”¨å¿«é€Ÿæ¨¡å‹
- â­ **qwen3-14b/32b** - ä¸­å°å‹æ¨¡å‹

### ç¿»è¯‘ä¸“ç”¨

- â­ **qwen-mt-plus** - ä¸“ä¸šç¿»è¯‘ï¼ˆ92ç§è¯­è¨€ï¼‰

---

## ğŸš€ ä½¿ç”¨ä¸åŒæ¨¡å¼

### å½“å‰æ¨¡å¼ï¼ˆå›ºå®šæ¨¡å‹ï¼‰

```bash
cd /home/changdi/sactor
python3 -u batch_translate_test_4k_accept.py --workers 10
```

### åˆ‡æ¢åˆ°è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼

```bash
cd /home/changdi/sactor
python3 -u batch_translate_with_auto_switch.py --workers 10
```

---

## ğŸ’¡ å»ºè®®

### 1ï¸âƒ£ å¤§æ‰¹é‡ç¿»è¯‘ï¼šä½¿ç”¨ qwen3-coder-flashï¼ˆå½“å‰é…ç½®ï¼‰

- æˆæœ¬ä½
- é€Ÿåº¦å¿«
- é€‚åˆ1500+æ–‡ä»¶çš„æ‰¹é‡ä»»åŠ¡

### 2ï¸âƒ£ é«˜è´¨é‡è¦æ±‚ï¼šæ‰‹åŠ¨æ”¹ä¸º qwen3-coder-plus

- å‡†ç¡®ç‡æ›´é«˜
- å‡å°‘é‡è¯•æ¬¡æ•°
- æˆæœ¬å¢åŠ çº¦2-3å€

### 3ï¸âƒ£ é…é¢å—é™ï¼šå¯ç”¨è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼

- é‡åˆ°é…é¢é”™è¯¯è‡ªåŠ¨åˆ‡æ¢
- æ— éœ€äººå·¥å¹²é¢„
- é€‚åˆé•¿æ—¶é—´è¿è¡Œ

---

## ğŸ“ ç¤ºä¾‹ï¼šä¿®æ”¹ä¸ºä½¿ç”¨ qwen3-coder-plus

```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim /home/changdi/sactor/sactor.toml

# ä¿®æ”¹ç¬¬65è¡Œ
# å°†: model = "qwen3-coder-flash"
# æ”¹ä¸º: model = "qwen3-coder-plus"

# ä¿å­˜åé‡å¯ç¿»è¯‘è¿›ç¨‹
pkill -f batch_translate_test_4k
python3 -u batch_translate_test_4k_accept.py --workers 10
```

